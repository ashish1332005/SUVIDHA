// Tiny shared UI primitives — imported by every flow file
export function Ic({p,s=20,c="currentColor"}){return <svg width={s} height={s} viewBox="0 0 24 24" fill={c} style={{flexShrink:0,display:"block"}}><path d={p}/></svg>;}
export function Hdr({title,step,back,setScreen,dest="dept",t}){return <div style={{background:"white",borderBottom:"4px solid var(--acc,#0EA5E9)",padding:"clamp(14px,1.8vw,20px) clamp(16px,2.5vw,40px)",flexShrink:0}}><button onClick={()=>back?back():setScreen(dest)} style={{background:"none",border:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:6,color:"#64748B",fontFamily:"var(--font-body)",fontSize:"clamp(13px,1.4vw,15px)",fontWeight:600,marginBottom:12,padding:"4px 0"}}><svg width={16} height={16} viewBox="0 0 24 24" fill="#64748B"><path d="M20 11H7.83L13.42 5.41L12 4L4 12L12 20L13.41 18.59L7.83 13H20V11Z"/></svg>{t.back}</button><h2 style={{fontFamily:"var(--font-head)",fontSize:"clamp(16px,2vw,24px)",fontWeight:700,color:"#0A2342"}}>{title}</h2></div>;}
export function Steps({labels,cur,color}){return <div style={{display:"flex",gap:6,padding:"12px clamp(16px,2.5vw,40px)",background:"white",borderBottom:"1px solid #E2E8F0",flexShrink:0}}>{labels.map((s,i)=><div key={s} style={{flex:1}}><div style={{height:5,borderRadius:3,background:i<cur?color:"#E2E8F0"}}/><span style={{display:"block",textAlign:"center",marginTop:4,fontSize:10,fontWeight:600,color:i<cur?color:"#94A3B8",textTransform:"uppercase",letterSpacing:".04em"}}>{s}</span></div>)}</div>;}
export function Wrap({children}){return <div style={{flex:1,overflowY:"auto"}}><div style={{maxWidth:720,margin:"0 auto",padding:"clamp(20px,2.5vw,32px) clamp(16px,2.5vw,40px) 48px"}}>{children}</div></div>;}
export function Card({children,style={}}){return <div style={{background:"white",border:"1.5px solid #E2E8F0",borderRadius:16,padding:"clamp(16px,2vw,24px)",boxShadow:"0 1px 4px rgba(10,35,66,.07)",...style}}>{children}</div>;}
export function Row({label,val,hi,hc}){return <div style={{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"clamp(9px,1.1vw,13px) 0",borderBottom:"1px solid #F1F5F9",gap:12}}><span style={{fontSize:"clamp(13px,1.4vw,15px)",color:"#64748B",fontWeight:500,flexShrink:0}}>{label}</span><span style={{fontSize:hi?"clamp(14px,1.6vw,17px)":"clamp(13px,1.4vw,15px)",fontWeight:hi?700:500,color:hc||"#0A2342",textAlign:"right",fontFamily:hi?"var(--font-head)":"var(--font-body)"}}>{val}</span></div>;}
export function Btn({children,onClick,ghost,disabled,color,style={}}){return <button onClick={onClick} disabled={disabled} style={{width:"100%",minHeight:"clamp(52px,6vw,62px)",border:ghost?`2px solid ${color}`:"none",borderRadius:14,background:ghost?"white":disabled?"#E2E8F0":color,color:ghost?color:disabled?"#94A3B8":"white",fontFamily:"var(--font-body)",fontSize:"clamp(15px,1.8vw,18px)",fontWeight:700,cursor:disabled?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:8,...style}}>{children}</button>;}
export function Fld({label,value,onChange,placeholder,type="text",rows}){const base={width:"100%",fontFamily:"var(--font-body)",fontSize:"clamp(15px,1.7vw,17px)",color:"#0A2342",background:"#F8FAFC",border:"2px solid #E2E8F0",borderRadius:12,outline:"none"};return <div style={{marginBottom:"clamp(14px,1.8vw,20px)"}}><label style={{display:"block",fontFamily:"var(--font-body)",fontSize:"clamp(11px,1.2vw,13px)",fontWeight:700,color:"#64748B",marginBottom:8,letterSpacing:".06em",textTransform:"uppercase"}}>{label}</label>{rows?<textarea rows={rows} value={value} onChange={e=>onChange(e.target.value)} placeholder={placeholder} style={{...base,padding:"14px 16px",resize:"none",lineHeight:1.6,minHeight:100}}/>:<input type={type} value={value} onChange={e=>onChange(e.target.value)} placeholder={placeholder} style={{...base,height:"clamp(50px,5.5vw,58px)",padding:"0 16px"}}/>}</div>;}
export function Notice({type="info",children}){const s={info:{bg:"#EFF6FF",br:"#BFDBFE",c:"#1E40AF"},warn:{bg:"#FFFBEB",br:"#FDE68A",c:"#78350F"},error:{bg:"#FEF2F2",br:"#FCA5A5",c:"#7F1D1D"}}[type];return <div style={{background:s.bg,border:`1.5px solid ${s.br}`,borderRadius:12,padding:"clamp(12px,1.4vw,16px)",color:s.c,fontSize:"clamp(12px,1.3vw,14px)",fontFamily:"var(--font-body)",lineHeight:1.6,marginBottom:16}}>{children}</div>;}
export function Spin({color}){return <div style={{textAlign:"center",paddingTop:60}}><div style={{width:"clamp(48px,6vw,64px)",height:"clamp(48px,6vw,64px)",border:"4px solid #E2E8F0",borderTopColor:color,borderRadius:"50%",animation:"kspin .8s linear infinite",margin:"0 auto 20px"}}/><p style={{fontFamily:"var(--font-body)",fontSize:"clamp(14px,1.5vw,16px)",color:"#64748B"}}>Processing…</p></div>;}
export function Success({title,sub,rows,color,onPrint,onHome,homeLabel="Return to Home"}){return <div className="kfa" style={{textAlign:"center"}}><div style={{width:"clamp(72px,9vw,96px)",height:"clamp(72px,9vw,96px)",borderRadius:"50%",background:"#DCFCE7",border:"3px solid #86EFAC",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto clamp(16px,2vw,24px)"}}><svg width={40} height={40} viewBox="0 0 24 24" fill="#16A34A"><path d="M9 16.17L4.83 12L3.41 13.41L9 19L21 7L19.59 5.59L9 16.17Z"/></svg></div><h3 style={{fontFamily:"var(--font-head)",fontSize:"clamp(18px,2.5vw,28px)",fontWeight:800,color:"#0A2342",marginBottom:6}}>{title}</h3><p style={{fontFamily:"var(--font-body)",fontSize:"clamp(13px,1.4vw,15px)",color:"#64748B",marginBottom:24}}>{sub}</p><Card style={{marginBottom:16,textAlign:"left"}}>{rows.map(([k,v,hi,hc])=><Row key={k} label={k} val={v} hi={hi} hc={hc}/>)}</Card>{onPrint&&<><Btn onClick={onPrint} color="#16A34A">Print Receipt</Btn><div style={{height:10}}/></>}<Btn ghost color={color} onClick={onHome}>{homeLabel}</Btn></div>;}
export function PayPicker({sel,onSel,color}){const ms=[{k:"upi",name:"UPI",sub:"GPay · PhonePe · BHIM"},{k:"card",name:"Debit / Credit Card",sub:"Visa · Mastercard · RuPay"},{k:"netbanking",name:"Net Banking",sub:"All major Indian banks"}];return <div style={{display:"flex",flexDirection:"column",gap:10}}>{ms.map(m=>{const s=sel===m.k;return <button key={m.k} onClick={()=>onSel(m.k)} style={{display:"flex",alignItems:"center",gap:16,minHeight:"clamp(64px,7vw,76px)",padding:"clamp(14px,1.6vw,18px)",border:`2px solid ${s?color:"#E2E8F0"}`,borderRadius:14,background:s?`${color}0D`:"white",cursor:"pointer",textAlign:"left"}}><div style={{flex:1}}><div style={{fontFamily:"var(--font-body)",fontSize:"clamp(14px,1.6vw,16px)",fontWeight:700,color:s?color:"#0A2342"}}>{m.name}</div><div style={{fontSize:"clamp(11px,1.2vw,13px)",color:"#94A3B8",marginTop:2}}>{m.sub}</div></div><div style={{width:22,height:22,borderRadius:"50%",border:`2.5px solid ${s?color:"#CBD5E1"}`,background:s?color:"transparent",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0}}>{s&&<div style={{width:8,height:8,borderRadius:"50%",background:"white"}}/>}</div></button>;})}</div>;}